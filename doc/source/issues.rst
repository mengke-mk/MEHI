.. __issues:


FAQ
===



常见问题
--------

为什么make test有import error
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
需要在make test之前先执行python setup.py,推荐用开发者模式，方便测试。


我爆内存了怎么办(OOM)
^^^^^^^^^^^^^^^^^^^^^
首先检查配置是否正确，尤其是 `$SPARK_MEM` 配置是否正确。要么就减少运行时的进程个数

fusion的时候报错，说必须要求是2维的
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
np.squeeze一下。或者你输出collect之后数组的shape就知道，不过这个BUG已经被修复了，估计很少遇到


spark减背景的时候，结果变得非常奇怪，而且每次运行结果不一样
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
把这一步单独拿到一个脚本中做，我也不知道为什么，可能是因为C的部分浮点数的原因

为什么阈值化得到的图像是全黑的
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
并不是全黑的，只有0和1两个值而已。在FIJI中查看时需要把MAX这一栏跳到最低。

为什么分水岭之后的图灰度会不一样
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
每一个灰度表示一个独立的细胞

为什么3D分水岭还没跑出结果来
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
这个耗时非常长，还是不要试了吧


为什么阈值化效果不好
^^^^^^^^^^^^^^^^^^^^
试试输入改用16位吧


为什么报错list没有这个属性或者方法
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
本来就没有，使用np.array()把list转成array

为什么mha转tiff的脚本报错了
^^^^^^^^^^^^^^^^^^^^^^^^^^^
估计是不识别的类型，需要人为去脚本中添加类型


一些建议
--------

分割采用2D分水岭再聚类的方法我认为还是很有前途的。

原图的质量是分割的关键。


